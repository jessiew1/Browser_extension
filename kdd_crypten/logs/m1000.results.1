Multiple regions detected
Running world size 3 with instances: [ec2.Instance(id='i-0f21b37a38d64ee95'), ec2.Instance(id='i-09cbb2d481a8a4017'), ec2.Instance(id='i-0fac04d66620effb0')]
Connecting to i-0f21b37a38d64ee95...
Connected to i-0f21b37a38d64ee95
Connecting to i-09cbb2d481a8a4017...
Connected to i-09cbb2d481a8a4017
Connecting to i-0fac04d66620effb0...
Connected to i-0fac04d66620effb0
to chmod is aws-launcher-tmp-a0f103d2-7c14-11eb-b4b5-fcaa142594a8\MergeSortTest.py
Actually, I think it would be best to chmod aws-launcher-tmp-a0f103d2-7c14-11eb-b4b5-fcaa142594a8/MergeSortTest.py
Uploading `MergeSortTest.py` to i-0f21b37a38d64ee95 at aws-launcher-tmp-a0f103d2-7c14-11eb-b4b5-fcaa142594a8/MergeSortTest.py...
Uploading `sorting_network.py` to i-0f21b37a38d64ee95 at aws-launcher-tmp-a0f103d2-7c14-11eb-b4b5-fcaa142594a8/sorting_network.py...
Uploading `compute_server_io.py` to i-0f21b37a38d64ee95 at aws-launcher-tmp-a0f103d2-7c14-11eb-b4b5-fcaa142594a8/compute_server_io.py...
Uploading `Workspace.py` to i-0f21b37a38d64ee95 at aws-launcher-tmp-a0f103d2-7c14-11eb-b4b5-fcaa142594a8/Workspace.py...
Uploading `MergeSortTest.py` to i-09cbb2d481a8a4017 at aws-launcher-tmp-a0f103d2-7c14-11eb-b4b5-fcaa142594a8/MergeSortTest.py...
Uploading `sorting_network.py` to i-09cbb2d481a8a4017 at aws-launcher-tmp-a0f103d2-7c14-11eb-b4b5-fcaa142594a8/sorting_network.py...
Uploading `compute_server_io.py` to i-09cbb2d481a8a4017 at aws-launcher-tmp-a0f103d2-7c14-11eb-b4b5-fcaa142594a8/compute_server_io.py...
Uploading `Workspace.py` to i-09cbb2d481a8a4017 at aws-launcher-tmp-a0f103d2-7c14-11eb-b4b5-fcaa142594a8/Workspace.py...
`MergeSortTest.py` uploaded to i-0f21b37a38d64ee95.
`sorting_network.py` uploaded to i-0f21b37a38d64ee95.
`compute_server_io.py` uploaded to i-0f21b37a38d64ee95.
`Workspace.py` uploaded to i-0f21b37a38d64ee95.
`MergeSortTest.py` uploaded to i-09cbb2d481a8a4017.
Uploading `MergeSortTest.py` to i-0fac04d66620effb0 at aws-launcher-tmp-a0f103d2-7c14-11eb-b4b5-fcaa142594a8/MergeSortTest.py...
`sorting_network.py` uploaded to i-09cbb2d481a8a4017.
`compute_server_io.py` uploaded to i-09cbb2d481a8a4017.
`Workspace.py` uploaded to i-09cbb2d481a8a4017.
Uploading `sorting_network.py` to i-0fac04d66620effb0 at aws-launcher-tmp-a0f103d2-7c14-11eb-b4b5-fcaa142594a8/sorting_network.py...
Uploading `Workspace.py` to i-0fac04d66620effb0 at aws-launcher-tmp-a0f103d2-7c14-11eb-b4b5-fcaa142594a8/Workspace.py...
Uploading `compute_server_io.py` to i-0fac04d66620effb0 at aws-launcher-tmp-a0f103d2-7c14-11eb-b4b5-fcaa142594a8/compute_server_io.py...
`MergeSortTest.py` uploaded to i-0fac04d66620effb0.
`sorting_network.py` uploaded to i-0fac04d66620effb0.
`Workspace.py` uploaded to i-0fac04d66620effb0.
`compute_server_io.py` uploaded to i-0fac04d66620effb0.
[i-0f21b37a38d64ee95 STDOUT] total 28
[i-0f21b37a38d64ee95 STDOUT] drwxrwxr-x  2 ubuntu ubuntu 4096 Mar  3 11:36 .
[i-0f21b37a38d64ee95 STDOUT] drwxr-xr-x 18 ubuntu ubuntu 4096 Mar  3 11:36 ..
[i-0f21b37a38d64ee95 STDOUT] -rwxrwxr-x  1 ubuntu ubuntu 7057 Mar  3 11:36 MergeSortTest.py
[i-0f21b37a38d64ee95 STDOUT] -rw-rw-r--  1 ubuntu ubuntu  143 Mar  3 11:36 Workspace.py
[i-0f21b37a38d64ee95 STDOUT] -rw-rw-r--  1 ubuntu ubuntu 1179 Mar  3 11:36 compute_server_io.py
[i-0f21b37a38d64ee95 STDOUT] -rw-rw-r--  1 ubuntu ubuntu 1622 Mar  3 11:36 sorting_network.py
[i-09cbb2d481a8a4017 STDOUT] total 28
[i-09cbb2d481a8a4017 STDOUT] drwxrwxr-x  2 ubuntu ubuntu 4096 Mar  3 11:36 .
[i-09cbb2d481a8a4017 STDOUT] drwxr-xr-x 18 ubuntu ubuntu 4096 Mar  3 11:36 ..
[i-09cbb2d481a8a4017 STDOUT] -rwxrwxr-x  1 ubuntu ubuntu 7057 Mar  3 11:36 MergeSortTest.py
[i-09cbb2d481a8a4017 STDOUT] -rw-rw-r--  1 ubuntu ubuntu  143 Mar  3 11:36 Workspace.py
[i-09cbb2d481a8a4017 STDOUT] -rw-rw-r--  1 ubuntu ubuntu 1179 Mar  3 11:36 compute_server_io.py
[i-09cbb2d481a8a4017 STDOUT] -rw-rw-r--  1 ubuntu ubuntu 1622 Mar  3 11:36 sorting_network.py
[i-0fac04d66620effb0 STDOUT] total 28
[i-0fac04d66620effb0 STDOUT] drwxrwxr-x  2 ubuntu ubuntu 4096 Mar  3 11:36 .
[i-0fac04d66620effb0 STDOUT] drwxr-xr-x 18 ubuntu ubuntu 4096 Mar  3 11:36 ..
[i-0fac04d66620effb0 STDOUT] -rwxrwxr-x  1 ubuntu ubuntu 7057 Mar  3 11:36 MergeSortTest.py
[i-0fac04d66620effb0 STDOUT] -rw-rw-r--  1 ubuntu ubuntu  143 Mar  3 11:36 Workspace.py
[i-0fac04d66620effb0 STDOUT] -rw-rw-r--  1 ubuntu ubuntu 1179 Mar  3 11:36 compute_server_io.py
[i-0fac04d66620effb0 STDOUT] -rw-rw-r--  1 ubuntu ubuntu 1622 Mar  3 11:36 sorting_network.py
Run command: export WORLD_SIZE=3; export RENDEZVOUS=env://; export MASTER_ADDR=172.31.86.214; export MASTER_PORT=29500; export RANK=0; cd aws-launcher-tmp-a0f103d2-7c14-11eb-b4b5-fcaa142594a8 ;  python3 MergeSortTest.py 
Run command: export WORLD_SIZE=3; export RENDEZVOUS=env://; export MASTER_ADDR=172.31.86.214; export MASTER_PORT=29500; export RANK=1; cd aws-launcher-tmp-a0f103d2-7c14-11eb-b4b5-fcaa142594a8 ;  python3 MergeSortTest.py 
Run command: export WORLD_SIZE=3; export RENDEZVOUS=env://; export MASTER_ADDR=172.31.86.214; export MASTER_PORT=29500; export RANK=2; cd aws-launcher-tmp-a0f103d2-7c14-11eb-b4b5-fcaa142594a8 ;  python3 MergeSortTest.py 
[i-0f21b37a38d64ee95 STDOUT] U_enc.shape is torch.Size([1000, 60])
[i-0f21b37a38d64ee95 STDOUT] R.shape is torch.Size([1000])
[i-0f21b37a38d64ee95 STDOUT] B.shape is torch.Size([51])
[i-0f21b37a38d64ee95 STDOUT] Initting labels took 0.00 seconds.
[i-0f21b37a38d64ee95 STDOUT] 
[i-0f21b37a38d64ee95 STDOUT] Beginning Algorithm 1 loop iteration 1 / 1
[i-0f21b37a38d64ee95 STDOUT] Fitting LR took 0.13 seconds.
[i-0f21b37a38d64ee95 STDOUT] Computing scores took 0.01 seconds.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 1 had 14 people and performed 37 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.73 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 2 had 21 people and performed 70 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.38 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 3 had 25 people and performed 87 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.73 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 4 had 22 people and performed 77 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.48 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 5 had 19 people and performed 56 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.11 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 6 had 27 people and performed 100 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.89 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 7 had 15 people and performed 43 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.75 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 8 had 21 people and performed 67 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.30 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 9 had 14 people and performed 41 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.81 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 10 had 20 people and performed 64 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.27 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 11 had 19 people and performed 59 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.18 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 12 had 23 people and performed 80 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.58 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 13 had 19 people and performed 60 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.17 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 14 had 15 people and performed 44 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.83 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 15 had 16 people and performed 42 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.81 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 16 had 18 people and performed 56 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.10 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 17 had 31 people and performed 118 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.28 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 18 had 19 people and performed 60 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.15 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 19 had 19 people and performed 59 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.14 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 20 had 21 people and performed 72 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.40 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 21 had 22 people and performed 68 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.29 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 22 had 23 people and performed 76 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.49 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 23 had 23 people and performed 75 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.47 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 24 had 20 people and performed 63 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.23 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 25 had 18 people and performed 53 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.03 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 26 had 20 people and performed 66 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.28 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 27 had 12 people and performed 28 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.54 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 28 had 24 people and performed 86 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.67 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 29 had 16 people and performed 48 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.90 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 30 had 10 people and performed 21 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.41 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 31 had 21 people and performed 70 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.29 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 32 had 16 people and performed 49 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.97 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 33 had 22 people and performed 72 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.30 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 34 had 15 people and performed 44 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.84 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 35 had 23 people and performed 75 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.43 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 36 had 17 people and performed 50 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.97 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 37 had 18 people and performed 58 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.19 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 38 had 21 people and performed 72 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.47 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 39 had 17 people and performed 48 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.91 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 40 had 16 people and performed 47 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.91 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 41 had 22 people and performed 73 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.38 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 42 had 23 people and performed 79 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.52 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 43 had 30 people and performed 110 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.15 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 44 had 14 people and performed 37 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.73 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 45 had 21 people and performed 68 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.34 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 46 had 24 people and performed 82 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.67 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 47 had 17 people and performed 48 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.02 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 48 had 16 people and performed 43 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.92 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 49 had 24 people and performed 83 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.78 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 50 had 21 people and performed 70 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.47 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 51 had 16 people and performed 39 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.86 secodns.
[i-0f21b37a38d64ee95 STDOUT] Computing thresholds took 62.54 seconds.
[i-0fac04d66620effb0 STDOUT] Algorithm 1 is done
[i-0fac04d66620effb0 STDOUT] TODO: save weights and thresholds
[i-09cbb2d481a8a4017 STDOUT] Algorithm 1 is done
[i-09cbb2d481a8a4017 STDOUT] TODO: save weights and thresholds
[i-0f21b37a38d64ee95 STDOUT] Setting labels took 10.23 seconds.
[i-0f21b37a38d64ee95 STDOUT]     Gather(enc, public) took 0.00 seconds.
[i-0f21b37a38d64ee95 STDOUT]     ge took 10.22 seconds.
[i-0f21b37a38d64ee95 STDOUT]     mul(enc, public) took 0.01 seconds.
[i-0f21b37a38d64ee95 STDOUT]     add(enc, public) took 0.01 seconds.
[i-0f21b37a38d64ee95 STDOUT] Algorithm 1 is done
[i-0f21b37a38d64ee95 STDOUT] TODO: save weights and thresholds
