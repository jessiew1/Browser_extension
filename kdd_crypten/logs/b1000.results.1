Multiple regions detected
Running world size 3 with instances: [ec2.Instance(id='i-0f21b37a38d64ee95'), ec2.Instance(id='i-09cbb2d481a8a4017'), ec2.Instance(id='i-0fac04d66620effb0')]
Connecting to i-0f21b37a38d64ee95...
Connected to i-0f21b37a38d64ee95
Connecting to i-09cbb2d481a8a4017...
Connected to i-09cbb2d481a8a4017
Connecting to i-0fac04d66620effb0...
Connected to i-0fac04d66620effb0
to chmod is aws-launcher-tmp-3493f15e-7c17-11eb-8b8a-fcaa142594a8\BatcherSortRevealTest.py
Actually, I think it would be best to chmod aws-launcher-tmp-3493f15e-7c17-11eb-8b8a-fcaa142594a8/BatcherSortRevealTest.py
Uploading `BatcherSortRevealTest.py` to i-0f21b37a38d64ee95 at aws-launcher-tmp-3493f15e-7c17-11eb-8b8a-fcaa142594a8/BatcherSortRevealTest.py...
Uploading `sorting_network.py` to i-0f21b37a38d64ee95 at aws-launcher-tmp-3493f15e-7c17-11eb-8b8a-fcaa142594a8/sorting_network.py...
Uploading `compute_server_io.py` to i-0f21b37a38d64ee95 at aws-launcher-tmp-3493f15e-7c17-11eb-8b8a-fcaa142594a8/compute_server_io.py...
Uploading `Workspace.py` to i-0f21b37a38d64ee95 at aws-launcher-tmp-3493f15e-7c17-11eb-8b8a-fcaa142594a8/Workspace.py...
Uploading `BatcherSortRevealTest.py` to i-09cbb2d481a8a4017 at aws-launcher-tmp-3493f15e-7c17-11eb-8b8a-fcaa142594a8/BatcherSortRevealTest.py...
Uploading `sorting_network.py` to i-09cbb2d481a8a4017 at aws-launcher-tmp-3493f15e-7c17-11eb-8b8a-fcaa142594a8/sorting_network.py...
Uploading `compute_server_io.py` to i-09cbb2d481a8a4017 at aws-launcher-tmp-3493f15e-7c17-11eb-8b8a-fcaa142594a8/compute_server_io.py...
Uploading `Workspace.py` to i-09cbb2d481a8a4017 at aws-launcher-tmp-3493f15e-7c17-11eb-8b8a-fcaa142594a8/Workspace.py...
`BatcherSortRevealTest.py` uploaded to i-0f21b37a38d64ee95.
`sorting_network.py` uploaded to i-0f21b37a38d64ee95.
`compute_server_io.py` uploaded to i-0f21b37a38d64ee95.
`Workspace.py` uploaded to i-0f21b37a38d64ee95.
`BatcherSortRevealTest.py` uploaded to i-09cbb2d481a8a4017.
Uploading `BatcherSortRevealTest.py` to i-0fac04d66620effb0 at aws-launcher-tmp-3493f15e-7c17-11eb-8b8a-fcaa142594a8/BatcherSortRevealTest.py...
`sorting_network.py` uploaded to i-09cbb2d481a8a4017.
`compute_server_io.py` uploaded to i-09cbb2d481a8a4017.
`Workspace.py` uploaded to i-09cbb2d481a8a4017.
Uploading `sorting_network.py` to i-0fac04d66620effb0 at aws-launcher-tmp-3493f15e-7c17-11eb-8b8a-fcaa142594a8/sorting_network.py...
Uploading `compute_server_io.py` to i-0fac04d66620effb0 at aws-launcher-tmp-3493f15e-7c17-11eb-8b8a-fcaa142594a8/compute_server_io.py...
Uploading `Workspace.py` to i-0fac04d66620effb0 at aws-launcher-tmp-3493f15e-7c17-11eb-8b8a-fcaa142594a8/Workspace.py...
`BatcherSortRevealTest.py` uploaded to i-0fac04d66620effb0.
`sorting_network.py` uploaded to i-0fac04d66620effb0.
`compute_server_io.py` uploaded to i-0fac04d66620effb0.
`Workspace.py` uploaded to i-0fac04d66620effb0.
[i-0f21b37a38d64ee95 STDOUT] total 28
[i-0f21b37a38d64ee95 STDOUT] drwxrwxr-x  2 ubuntu ubuntu 4096 Mar  3 11:54 .
[i-0f21b37a38d64ee95 STDOUT] drwxr-xr-x 21 ubuntu ubuntu 4096 Mar  3 11:54 ..
[i-0f21b37a38d64ee95 STDOUT] -rwxrwxr-x  1 ubuntu ubuntu 5847 Mar  3 11:54 BatcherSortRevealTest.py
[i-0f21b37a38d64ee95 STDOUT] -rw-rw-r--  1 ubuntu ubuntu  143 Mar  3 11:54 Workspace.py
[i-0f21b37a38d64ee95 STDOUT] -rw-rw-r--  1 ubuntu ubuntu 1122 Mar  3 11:54 compute_server_io.py
[i-0f21b37a38d64ee95 STDOUT] -rw-rw-r--  1 ubuntu ubuntu 2034 Mar  3 11:54 sorting_network.py
[i-09cbb2d481a8a4017 STDOUT] total 28
[i-09cbb2d481a8a4017 STDOUT] drwxrwxr-x  2 ubuntu ubuntu 4096 Mar  3 11:54 .
[i-09cbb2d481a8a4017 STDOUT] drwxr-xr-x 20 ubuntu ubuntu 4096 Mar  3 11:54 ..
[i-09cbb2d481a8a4017 STDOUT] -rwxrwxr-x  1 ubuntu ubuntu 5847 Mar  3 11:54 BatcherSortRevealTest.py
[i-09cbb2d481a8a4017 STDOUT] -rw-rw-r--  1 ubuntu ubuntu  143 Mar  3 11:54 Workspace.py
[i-09cbb2d481a8a4017 STDOUT] -rw-rw-r--  1 ubuntu ubuntu 1122 Mar  3 11:54 compute_server_io.py
[i-09cbb2d481a8a4017 STDOUT] -rw-rw-r--  1 ubuntu ubuntu 2034 Mar  3 11:54 sorting_network.py
[i-0fac04d66620effb0 STDOUT] total 28
[i-0fac04d66620effb0 STDOUT] drwxrwxr-x  2 ubuntu ubuntu 4096 Mar  3 11:54 .
[i-0fac04d66620effb0 STDOUT] drwxr-xr-x 20 ubuntu ubuntu 4096 Mar  3 11:54 ..
[i-0fac04d66620effb0 STDOUT] -rwxrwxr-x  1 ubuntu ubuntu 5847 Mar  3 11:54 BatcherSortRevealTest.py
[i-0fac04d66620effb0 STDOUT] -rw-rw-r--  1 ubuntu ubuntu  143 Mar  3 11:54 Workspace.py
[i-0fac04d66620effb0 STDOUT] -rw-rw-r--  1 ubuntu ubuntu 1122 Mar  3 11:54 compute_server_io.py
[i-0fac04d66620effb0 STDOUT] -rw-rw-r--  1 ubuntu ubuntu 2034 Mar  3 11:54 sorting_network.py
Run command: export WORLD_SIZE=3; export RENDEZVOUS=env://; export MASTER_ADDR=172.31.86.214; export MASTER_PORT=29500; export RANK=0; cd aws-launcher-tmp-3493f15e-7c17-11eb-8b8a-fcaa142594a8 ;  python3 BatcherSortRevealTest.py 
Run command: export WORLD_SIZE=3; export RENDEZVOUS=env://; export MASTER_ADDR=172.31.86.214; export MASTER_PORT=29500; export RANK=1; cd aws-launcher-tmp-3493f15e-7c17-11eb-8b8a-fcaa142594a8 ;  python3 BatcherSortRevealTest.py 
Run command: export WORLD_SIZE=3; export RENDEZVOUS=env://; export MASTER_ADDR=172.31.86.214; export MASTER_PORT=29500; export RANK=2; cd aws-launcher-tmp-3493f15e-7c17-11eb-8b8a-fcaa142594a8 ;  python3 BatcherSortRevealTest.py 
[i-0f21b37a38d64ee95 STDOUT] U_enc.shape is torch.Size([1000, 60])
[i-0f21b37a38d64ee95 STDOUT] R.shape is torch.Size([1000])
[i-0f21b37a38d64ee95 STDOUT] B.shape is torch.Size([51])
[i-0f21b37a38d64ee95 STDOUT] Initting labels took 0.00 seconds.
[i-0f21b37a38d64ee95 STDOUT] 
[i-0f21b37a38d64ee95 STDOUT] Beginning Algorithm 1 loop iteration 1 / 1
[i-0f21b37a38d64ee95 STDOUT] Fitting LR took 0.20 seconds.
[i-0f21b37a38d64ee95 STDOUT] Computing scores took 0.01 seconds.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 1 had 22 people and performed 91 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.96 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 2 had 17 people and performed 51 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.99 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 3 had 12 people and performed 28 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.54 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 4 had 15 people and performed 43 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.81 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 5 had 14 people and performed 42 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.80 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 6 had 16 people and performed 43 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.81 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 7 had 25 people and performed 97 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.76 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 8 had 24 people and performed 102 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.92 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 9 had 21 people and performed 84 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.63 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 10 had 18 people and performed 29 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.54 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 11 had 27 people and performed 122 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.21 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 12 had 23 people and performed 100 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.81 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 13 had 20 people and performed 73 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.36 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 14 had 17 people and performed 52 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.97 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 15 had 18 people and performed 51 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.94 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 16 had 18 people and performed 55 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.07 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 17 had 21 people and performed 81 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.56 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 18 had 14 people and performed 42 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.74 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 19 had 16 people and performed 53 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.01 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 20 had 20 people and performed 74 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.38 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 21 had 17 people and performed 51 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.97 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 22 had 14 people and performed 37 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.73 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 23 had 17 people and performed 54 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.01 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 24 had 18 people and performed 60 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.10 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 25 had 21 people and performed 81 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.46 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 26 had 19 people and performed 64 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.22 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 27 had 32 people and performed 139 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.54 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 28 had 15 people and performed 24 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.47 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 29 had 17 people and performed 30 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.58 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 30 had 21 people and performed 77 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.49 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 31 had 20 people and performed 65 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.22 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 32 had 23 people and performed 100 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.87 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 33 had 29 people and performed 126 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.26 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 34 had 25 people and performed 94 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.72 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 35 had 19 people and performed 35 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.63 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 36 had 18 people and performed 51 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.97 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 37 had 24 people and performed 106 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.00 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 38 had 10 people and performed 21 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.40 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 39 had 19 people and performed 68 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.24 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 40 had 10 people and performed 22 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.39 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 41 had 17 people and performed 46 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.86 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 42 had 22 people and performed 75 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.38 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 43 had 27 people and performed 117 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.11 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 44 had 18 people and performed 58 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.04 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 45 had 21 people and performed 79 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.49 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 46 had 22 people and performed 75 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.35 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 47 had 18 people and performed 50 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.91 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 48 had 16 people and performed 53 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.01 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 49 had 22 people and performed 75 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.42 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 50 had 21 people and performed 83 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.49 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 51 had 30 people and performed 140 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.56 secodns.
[i-0f21b37a38d64ee95 STDOUT] Computing thresholds took 64.74 seconds.
[i-0fac04d66620effb0 STDOUT] Algorithm 1 is done
[i-0fac04d66620effb0 STDOUT] TODO: save weights and thresholds
[i-0f21b37a38d64ee95 STDOUT] Setting labels took 10.38 seconds.
[i-0f21b37a38d64ee95 STDOUT]     Gather(enc, public) took 0.00 seconds.
[i-0f21b37a38d64ee95 STDOUT]     ge took 10.37 seconds.
[i-0f21b37a38d64ee95 STDOUT]     mul(enc, public) took 0.01 seconds.
[i-0f21b37a38d64ee95 STDOUT]     add(enc, public) took 0.01 seconds.
[i-0f21b37a38d64ee95 STDOUT] Algorithm 1 is done
[i-0f21b37a38d64ee95 STDOUT] TODO: save weights and thresholds
[i-09cbb2d481a8a4017 STDOUT] Algorithm 1 is done
[i-09cbb2d481a8a4017 STDOUT] TODO: save weights and thresholds
