Multiple regions detected
Running world size 3 with instances: [ec2.Instance(id='i-0f21b37a38d64ee95'), ec2.Instance(id='i-09cbb2d481a8a4017'), ec2.Instance(id='i-0fac04d66620effb0')]
Connecting to i-0f21b37a38d64ee95...
Connected to i-0f21b37a38d64ee95
Connecting to i-09cbb2d481a8a4017...
Connected to i-09cbb2d481a8a4017
Connecting to i-0fac04d66620effb0...
Connected to i-0fac04d66620effb0
to chmod is aws-launcher-tmp-3ea161da-7c15-11eb-a444-fcaa142594a8\d.py
Actually, I think it would be best to chmod aws-launcher-tmp-3ea161da-7c15-11eb-a444-fcaa142594a8/d.py
Uploading `d.py` to i-0f21b37a38d64ee95 at aws-launcher-tmp-3ea161da-7c15-11eb-a444-fcaa142594a8/d.py...
Uploading `compute_server_io.py` to i-0f21b37a38d64ee95 at aws-launcher-tmp-3ea161da-7c15-11eb-a444-fcaa142594a8/compute_server_io.py...
Uploading `Workspace.py` to i-0f21b37a38d64ee95 at aws-launcher-tmp-3ea161da-7c15-11eb-a444-fcaa142594a8/Workspace.py...
Uploading `sorting_network.py` to i-0f21b37a38d64ee95 at aws-launcher-tmp-3ea161da-7c15-11eb-a444-fcaa142594a8/sorting_network.py...
Uploading `d.py` to i-09cbb2d481a8a4017 at aws-launcher-tmp-3ea161da-7c15-11eb-a444-fcaa142594a8/d.py...
Uploading `sorting_network.py` to i-09cbb2d481a8a4017 at aws-launcher-tmp-3ea161da-7c15-11eb-a444-fcaa142594a8/sorting_network.py...
Uploading `compute_server_io.py` to i-09cbb2d481a8a4017 at aws-launcher-tmp-3ea161da-7c15-11eb-a444-fcaa142594a8/compute_server_io.py...
Uploading `Workspace.py` to i-09cbb2d481a8a4017 at aws-launcher-tmp-3ea161da-7c15-11eb-a444-fcaa142594a8/Workspace.py...
`d.py` uploaded to i-0f21b37a38d64ee95.
`sorting_network.py` uploaded to i-0f21b37a38d64ee95.
`compute_server_io.py` uploaded to i-0f21b37a38d64ee95.
`Workspace.py` uploaded to i-0f21b37a38d64ee95.
`d.py` uploaded to i-09cbb2d481a8a4017.
`sorting_network.py` uploaded to i-09cbb2d481a8a4017.
`compute_server_io.py` uploaded to i-09cbb2d481a8a4017.
Uploading `d.py` to i-0fac04d66620effb0 at aws-launcher-tmp-3ea161da-7c15-11eb-a444-fcaa142594a8/d.py...
`Workspace.py` uploaded to i-09cbb2d481a8a4017.
Uploading `sorting_network.py` to i-0fac04d66620effb0 at aws-launcher-tmp-3ea161da-7c15-11eb-a444-fcaa142594a8/sorting_network.py...
Uploading `compute_server_io.py` to i-0fac04d66620effb0 at aws-launcher-tmp-3ea161da-7c15-11eb-a444-fcaa142594a8/compute_server_io.py...
Uploading `Workspace.py` to i-0fac04d66620effb0 at aws-launcher-tmp-3ea161da-7c15-11eb-a444-fcaa142594a8/Workspace.py...
`d.py` uploaded to i-0fac04d66620effb0.
`sorting_network.py` uploaded to i-0fac04d66620effb0.
`compute_server_io.py` uploaded to i-0fac04d66620effb0.
`Workspace.py` uploaded to i-0fac04d66620effb0.
[i-0f21b37a38d64ee95 STDOUT] total 28
[i-0f21b37a38d64ee95 STDOUT] drwxrwxr-x  2 ubuntu ubuntu 4096 Mar  3 11:40 .
[i-0f21b37a38d64ee95 STDOUT] drwxr-xr-x 20 ubuntu ubuntu 4096 Mar  3 11:40 ..
[i-0f21b37a38d64ee95 STDOUT] -rw-rw-r--  1 ubuntu ubuntu  143 Mar  3 11:40 Workspace.py
[i-0f21b37a38d64ee95 STDOUT] -rw-rw-r--  1 ubuntu ubuntu 1179 Mar  3 11:40 compute_server_io.py
[i-0f21b37a38d64ee95 STDOUT] -rwxrwxr-x  1 ubuntu ubuntu 5689 Mar  3 11:40 d.py
[i-0f21b37a38d64ee95 STDOUT] -rw-rw-r--  1 ubuntu ubuntu 1622 Mar  3 11:40 sorting_network.py
[i-09cbb2d481a8a4017 STDOUT] total 28
[i-09cbb2d481a8a4017 STDOUT] drwxrwxr-x  2 ubuntu ubuntu 4096 Mar  3 11:40 .
[i-09cbb2d481a8a4017 STDOUT] drwxr-xr-x 19 ubuntu ubuntu 4096 Mar  3 11:40 ..
[i-09cbb2d481a8a4017 STDOUT] -rw-rw-r--  1 ubuntu ubuntu  143 Mar  3 11:40 Workspace.py
[i-09cbb2d481a8a4017 STDOUT] -rw-rw-r--  1 ubuntu ubuntu 1179 Mar  3 11:40 compute_server_io.py
[i-09cbb2d481a8a4017 STDOUT] -rwxrwxr-x  1 ubuntu ubuntu 5689 Mar  3 11:40 d.py
[i-09cbb2d481a8a4017 STDOUT] -rw-rw-r--  1 ubuntu ubuntu 1622 Mar  3 11:40 sorting_network.py
[i-0fac04d66620effb0 STDOUT] total 28
[i-0fac04d66620effb0 STDOUT] drwxrwxr-x  2 ubuntu ubuntu 4096 Mar  3 11:40 .
[i-0fac04d66620effb0 STDOUT] drwxr-xr-x 19 ubuntu ubuntu 4096 Mar  3 11:40 ..
[i-0fac04d66620effb0 STDOUT] -rw-rw-r--  1 ubuntu ubuntu  143 Mar  3 11:40 Workspace.py
[i-0fac04d66620effb0 STDOUT] -rw-rw-r--  1 ubuntu ubuntu 1179 Mar  3 11:40 compute_server_io.py
[i-0fac04d66620effb0 STDOUT] -rwxrwxr-x  1 ubuntu ubuntu 5689 Mar  3 11:40 d.py
[i-0fac04d66620effb0 STDOUT] -rw-rw-r--  1 ubuntu ubuntu 1622 Mar  3 11:40 sorting_network.py
Run command: export WORLD_SIZE=3; export RENDEZVOUS=env://; export MASTER_ADDR=172.31.86.214; export MASTER_PORT=29500; export RANK=0; cd aws-launcher-tmp-3ea161da-7c15-11eb-a444-fcaa142594a8 ;  python3 d.py 
Run command: export WORLD_SIZE=3; export RENDEZVOUS=env://; export MASTER_ADDR=172.31.86.214; export MASTER_PORT=29500; export RANK=1; cd aws-launcher-tmp-3ea161da-7c15-11eb-a444-fcaa142594a8 ;  python3 d.py 
Run command: export WORLD_SIZE=3; export RENDEZVOUS=env://; export MASTER_ADDR=172.31.86.214; export MASTER_PORT=29500; export RANK=2; cd aws-launcher-tmp-3ea161da-7c15-11eb-a444-fcaa142594a8 ;  python3 d.py 
[i-0f21b37a38d64ee95 STDOUT] U_enc.shape is torch.Size([1000, 60])
[i-0f21b37a38d64ee95 STDOUT] R.shape is torch.Size([1000])
[i-0f21b37a38d64ee95 STDOUT] B.shape is torch.Size([51])
[i-0f21b37a38d64ee95 STDOUT] Initting labels took 0.00 seconds.
[i-0f21b37a38d64ee95 STDOUT] 
[i-0f21b37a38d64ee95 STDOUT] Beginning Algorithm 1 loop iteration 1 / 1
[i-0f21b37a38d64ee95 STDOUT] Fitting LR took 0.13 seconds.
[i-0f21b37a38d64ee95 STDOUT] Computing scores took 0.01 seconds.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 1 had 25 people and performed 109 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.86 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 2 had 18 people and performed 51 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.39 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 3 had 16 people and performed 51 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.41 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 4 had 23 people and performed 92 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.45 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 5 had 20 people and performed 73 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.88 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 6 had 30 people and performed 63 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.68 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 7 had 21 people and performed 83 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.17 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 8 had 20 people and performed 74 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.96 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 9 had 15 people and performed 45 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.23 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 10 had 18 people and performed 58 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.57 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 11 had 22 people and performed 88 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.41 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 12 had 14 people and performed 41 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.13 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 13 had 21 people and performed 47 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.19 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 14 had 19 people and performed 65 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.73 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 15 had 17 people and performed 46 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.27 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 16 had 19 people and performed 55 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.44 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 17 had 16 people and performed 15 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.42 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 18 had 13 people and performed 21 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.55 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 19 had 22 people and performed 91 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.39 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 20 had 21 people and performed 81 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.18 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 21 had 18 people and performed 60 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.62 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 22 had 18 people and performed 50 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.31 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 23 had 23 people and performed 84 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.19 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 24 had 20 people and performed 65 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.72 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 25 had 18 people and performed 55 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.48 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 26 had 26 people and performed 112 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.98 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 27 had 20 people and performed 74 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.01 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 28 had 19 people and performed 68 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.75 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 29 had 21 people and performed 83 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.24 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 30 had 28 people and performed 125 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 3.38 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 31 had 14 people and performed 41 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.10 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 32 had 21 people and performed 83 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.17 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 33 had 21 people and performed 83 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.25 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 34 had 24 people and performed 62 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.68 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 35 had 25 people and performed 105 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.91 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 36 had 21 people and performed 81 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.33 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 37 had 9 people and performed 10 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.29 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 38 had 17 people and performed 54 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.54 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 39 had 16 people and performed 15 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.44 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 40 had 26 people and performed 107 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 3.02 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 41 had 16 people and performed 43 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.26 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 42 had 12 people and performed 32 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 0.93 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 43 had 20 people and performed 74 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.13 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 44 had 18 people and performed 60 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.76 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 45 had 14 people and performed 41 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.21 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 46 had 23 people and performed 84 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.42 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 47 had 24 people and performed 103 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 2.97 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 48 had 32 people and performed 135 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 3.88 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 49 had 17 people and performed 56 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.63 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 50 had 15 people and performed 39 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.13 secodns.
[i-0f21b37a38d64ee95 STDOUT] In compute_thresholds_enc, voting region 51 had 14 people and performed 42 oblivious comparisons.
[i-0f21b37a38d64ee95 STDOUT] Computing the threshold of that voting region took 1.21 secodns.
[i-0f21b37a38d64ee95 STDOUT] Computing thresholds took 92.24 seconds.
[i-0fac04d66620effb0 STDOUT] Algorithm 1 is done
[i-0fac04d66620effb0 STDOUT] TODO: save weights and thresholds
[i-09cbb2d481a8a4017 STDOUT] Algorithm 1 is done
[i-09cbb2d481a8a4017 STDOUT] TODO: save weights and thresholds
[i-0f21b37a38d64ee95 STDOUT] Setting labels took 10.29 seconds.
[i-0f21b37a38d64ee95 STDOUT]     Gather(enc, public) took 0.00 seconds.
[i-0f21b37a38d64ee95 STDOUT]     ge took 10.28 seconds.
[i-0f21b37a38d64ee95 STDOUT]     mul(enc, public) took 0.01 seconds.
[i-0f21b37a38d64ee95 STDOUT]     add(enc, public) took 0.01 seconds.
[i-0f21b37a38d64ee95 STDOUT] Algorithm 1 is done
[i-0f21b37a38d64ee95 STDOUT] TODO: save weights and thresholds
